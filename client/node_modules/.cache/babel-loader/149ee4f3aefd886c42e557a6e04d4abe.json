{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FacebookLogin = void 0;\n\nvar react_1 = __importStar(require(\"react\")); // @ts-ignore\n\n\nvar facebook_png_1 = __importDefault(require(\"./public/facebook.png\"));\n\nrequire(\"./public/styles.css\");\n\nvar FacebookLogin = function (_a) {\n  var language = _a.language,\n      appId = _a.appId,\n      version = _a.version,\n      scope = _a.scope,\n      fields = _a.fields,\n      height = _a.height,\n      theme = _a.theme,\n      imgSrc = _a.imgSrc,\n      btnText = _a.btnText,\n      onSuccess = _a.onSuccess,\n      onFailure = _a.onFailure,\n      isSignedIn = _a.isSignedIn;\n\n  var _b = react_1.useState(),\n      fbWindow = _b[0],\n      setFBWindow = _b[1];\n\n  react_1.useEffect(function () {\n    var script = document.createElement('script');\n    script.src = \"https://connect.facebook.net/\" + language + \"/sdk.js\";\n    script.async = true;\n    script.defer = true;\n    script.crossOrigin = \"anonymous\";\n    script.addEventListener('load', function () {\n      var FB = window.FB;\n      FB.init({\n        appId: appId,\n        cookie: true,\n        xfbml: true,\n        version: version\n      });\n      setFBWindow(window);\n    });\n    document.body.appendChild(script);\n    return function () {\n      document.body.removeChild(script);\n    };\n  }, [language, appId, version]);\n\n  var statusChangeCallback = function (response) {\n    if (response.status === 'connected') {\n      fetchDataFacebook(response);\n    } else if (response.status === 'not_authorized') {\n      onFailure('Import error, Authorize app to import data, error');\n    } else {\n      onFailure('Import error, Error occured while importing data, error');\n    }\n  };\n\n  var facebookLogin = function () {\n    fbWindow.FB.login(function (response) {\n      statusChangeCallback(response);\n    }, {\n      scope: scope\n    });\n  };\n\n  var fetchDataFacebook = function (response) {\n    fbWindow.FB.api('/me', {\n      fields: fields.split(', ')\n    }, function (user) {\n      onSuccess(__assign({\n        user: user\n      }, response));\n    });\n  };\n\n  react_1.useEffect(function () {\n    if (!isSignedIn || !fbWindow) return;\n    fbWindow.FB.getLoginStatus(function (response) {\n      return statusChangeCallback(response);\n    }); // eslint-disable-next-line\n  }, [isSignedIn, fbWindow]);\n  return react_1.default.createElement(\"div\", {\n    id: \"fb-login\",\n    style: {\n      height: height\n    },\n    onClick: facebookLogin,\n    className: theme === 'dark' ? 'dark' : 'light'\n  }, react_1.default.createElement(\"img\", {\n    src: imgSrc,\n    title: \"facebook login\",\n    alt: \"facebook\",\n    style: {\n      objectFit: 'cover'\n    }\n  }), react_1.default.createElement(\"span\", null, btnText));\n};\n\nexports.FacebookLogin = FacebookLogin;\nexports.FacebookLogin.defaultProps = {\n  language: 'en_US',\n  version: 'v10.0',\n  scope: 'public_profile,email',\n  fields: \"id,email,first_name,last_name,middle_name,name,picture,short_name\",\n  height: '50px',\n  theme: 'light',\n  imgSrc: facebook_png_1.default,\n  btnText: 'Sign in with Facebook',\n  onSuccess: function (response) {\n    console.log(response);\n  },\n  onFailure: function (error) {\n    console.log(error);\n  },\n  isSignedIn: false\n};\nexports.default = exports.FacebookLogin;","map":{"version":3,"mappings":"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","names":["require","FacebookLogin","_a","language","appId","version","scope","fields","height","theme","imgSrc","btnText","onSuccess","onFailure","isSignedIn","react_1","fbWindow","setFBWindow","script","document","createElement","src","async","defer","crossOrigin","addEventListener","window","FB","init","cookie","xfbml","body","appendChild","removeChild","statusChangeCallback","response","status","fetchDataFacebook","facebookLogin","login","api","split","user","getLoginStatus","id","style","onClick","className","title","alt","objectFit","exports","defaultProps","facebook_png_1","console","log","error"],"sourceRoot":"","sources":["../src/index.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}