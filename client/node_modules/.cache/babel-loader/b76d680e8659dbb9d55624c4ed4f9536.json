{"ast":null,"code":"export const checkImage = file => {\n  const types = ['image/png', 'image/jpeg'];\n  let err = '';\n  if (!file) return err = \"File does not exist.\";\n  if (file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb\";\n  if (!types.includes(file.type)) err = \"The image type is png / jpeg\";\n  return err;\n};\nexport const imageUpload = async file => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  formData.append(\"upload_preset\", \"xwqohnif\");\n  formData.append(\"cloud_name\", \"devat-channel\");\n  const res = await fetch(\"https://api.cloudinary.com/v1_1/devat-channel/upload\", {\n    method: \"POST\",\n    body: formData\n  });\n  const data = await res.json();\n  return {\n    public_id: data.public_id,\n    url: data.secure_url\n  };\n};","map":{"version":3,"names":["checkImage","file","types","err","size","includes","type","imageUpload","formData","FormData","append","res","fetch","method","body","data","json","public_id","url","secure_url"],"sources":["/Users/esen/Desktop/MERN stack/client/src/utils/ImageUpload.ts"],"sourcesContent":["export const checkImage = (file: File) => {\n  const types = ['image/png', 'image/jpeg']\n  let err = ''\n  if(!file) return err = \"File does not exist.\"\n\n  if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb\"\n\n  if(!types.includes(file.type))\n    err = \"The image type is png / jpeg\"\n\n  return err;\n}\n\nexport const imageUpload = async (file: File) => {\n  const formData = new FormData()\n  formData.append(\"file\", file)\n  formData.append(\"upload_preset\", \"xwqohnif\")\n  formData.append(\"cloud_name\", \"devat-channel\")\n\n  const res = await fetch(\"https://api.cloudinary.com/v1_1/devat-channel/upload\", {\n    method: \"POST\",\n    body: formData\n  })\n\n  const data = await res.json()\n  return { public_id: data.public_id, url: data.secure_url };\n}"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAIC,IAAD,IAAgB;EACxC,MAAMC,KAAK,GAAG,CAAC,WAAD,EAAc,YAAd,CAAd;EACA,IAAIC,GAAG,GAAG,EAAV;EACA,IAAG,CAACF,IAAJ,EAAU,OAAOE,GAAG,GAAG,sBAAb;EAEV,IAAGF,IAAI,CAACG,IAAL,GAAY,OAAO,IAAtB,EAA4B;IAC1BD,GAAG,GAAG,+BAAN;EAEF,IAAG,CAACD,KAAK,CAACG,QAAN,CAAeJ,IAAI,CAACK,IAApB,CAAJ,EACEH,GAAG,GAAG,8BAAN;EAEF,OAAOA,GAAP;AACD,CAZM;AAcP,OAAO,MAAMI,WAAW,GAAG,MAAON,IAAP,IAAsB;EAC/C,MAAMO,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;EACAD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBT,IAAxB;EACAO,QAAQ,CAACE,MAAT,CAAgB,eAAhB,EAAiC,UAAjC;EACAF,QAAQ,CAACE,MAAT,CAAgB,YAAhB,EAA8B,eAA9B;EAEA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,sDAAD,EAAyD;IAC9EC,MAAM,EAAE,MADsE;IAE9EC,IAAI,EAAEN;EAFwE,CAAzD,CAAvB;EAKA,MAAMO,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;EACA,OAAO;IAAEC,SAAS,EAAEF,IAAI,CAACE,SAAlB;IAA6BC,GAAG,EAAEH,IAAI,CAACI;EAAvC,CAAP;AACD,CAbM"},"metadata":{},"sourceType":"module"}