{"ast":null,"code":"var _jsxFileName = \"/Users/esen/Desktop/MERN stack/client/src/components/global/Search.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { getAPI } from '../../utils/FetchData';\nimport CardHoriz from '../cards/CardHoriz';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Search = () => {\n  _s();\n\n  const [search, setSearch] = useState('');\n  const [blogs, setBlogs] = useState([]);\n  const {\n    pathname\n  } = useLocation();\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if (search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`);\n        setBlogs(res.data);\n      } catch (err) {\n        console.log(err);\n      }\n    }, 400);\n    return () => clearTimeout(delayDebounce);\n  }, [search]);\n  useEffect(() => {\n    setSearch('');\n    setBlogs([]);\n  }, [pathname]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search w-100 position-relative me-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"form-control me-2 w-100\",\n      value: search,\n      placeholder: \"Enter your search...\",\n      onChange: e => setSearch(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), search.length >= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"position-absolute pt-2 px-1 w-100 rounded\",\n      style: {\n        background: '#eee',\n        zIndex: 10,\n        maxHeight: 'calc(100vh - 100px)',\n        overflow: 'auto'\n      },\n      children: blogs.length ? blogs.map(blog => /*#__PURE__*/_jsxDEV(CardHoriz, {\n        blog: blog\n      }, blog._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }, this)) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center\",\n        children: \"No Blogs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"1ZfOgY+Ag6KeLD+pqZSH+GAeMvo=\", false, function () {\n  return [useLocation];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","getAPI","CardHoriz","Search","search","setSearch","blogs","setBlogs","pathname","delayDebounce","setTimeout","length","res","data","err","console","log","clearTimeout","e","target","value","background","zIndex","maxHeight","overflow","map","blog","_id"],"sources":["/Users/esen/Desktop/MERN stack/client/src/components/global/Search.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useLocation } from 'react-router-dom'\n\nimport { getAPI } from '../../utils/FetchData'\nimport { IBlog } from '../../utils/TypeScript'\n\nimport CardHoriz from '../cards/CardHoriz'\n\nconst Search = () => {\n  const [search, setSearch] = useState('')\n  const [blogs, setBlogs] = useState<IBlog[]>([])\n\n  const { pathname } = useLocation()\n\n  useEffect(() => {\n    const delayDebounce = setTimeout(async () => {\n      if(search.length < 2) return setBlogs([]);\n\n      try {\n        const res = await getAPI(`search/blogs?title=${search}`)\n        setBlogs(res.data)\n      } catch (err) {\n        console.log(err)\n      }\n    }, 400)\n\n    return () => clearTimeout(delayDebounce)\n  },[search])\n\n\n  useEffect(() => {\n    setSearch('')\n    setBlogs([])\n  },[pathname])\n\n  return (\n    <div className=\"search w-100 position-relative me-4\">\n      <input type=\"text\" className=\"form-control me-2 w-100\"\n      value={search} placeholder=\"Enter your search...\"\n      onChange={e => setSearch(e.target.value)}  />\n\n      {\n        search.length >= 2 &&\n        <div className=\"position-absolute pt-2 px-1 w-100 rounded\"\n        style={{\n          background: '#eee', zIndex: 10,\n          maxHeight: 'calc(100vh - 100px)',\n          overflow: 'auto'\n        }}>\n          {\n            blogs.length\n            ? blogs.map(blog => (\n              <CardHoriz key={blog._id} blog={blog} />\n            ))\n            : <h3 className=\"text-center\">No Blogs</h3>\n          }\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Search\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,SAASC,MAAT,QAAuB,uBAAvB;AAGA,OAAOC,SAAP,MAAsB,oBAAtB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;EAAA;;EACnB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAU,EAAV,CAAlC;EAEA,MAAM;IAAEU;EAAF,IAAeR,WAAW,EAAhC;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMU,aAAa,GAAGC,UAAU,CAAC,YAAY;MAC3C,IAAGN,MAAM,CAACO,MAAP,GAAgB,CAAnB,EAAsB,OAAOJ,QAAQ,CAAC,EAAD,CAAf;;MAEtB,IAAI;QACF,MAAMK,GAAG,GAAG,MAAMX,MAAM,CAAE,sBAAqBG,MAAO,EAA9B,CAAxB;QACAG,QAAQ,CAACK,GAAG,CAACC,IAAL,CAAR;MACD,CAHD,CAGE,OAAOC,GAAP,EAAY;QACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;MACD;IACF,CAT+B,EAS7B,GAT6B,CAAhC;IAWA,OAAO,MAAMG,YAAY,CAACR,aAAD,CAAzB;EACD,CAbQ,EAaP,CAACL,MAAD,CAbO,CAAT;EAgBAL,SAAS,CAAC,MAAM;IACdM,SAAS,CAAC,EAAD,CAAT;IACAE,QAAQ,CAAC,EAAD,CAAR;EACD,CAHQ,EAGP,CAACC,QAAD,CAHO,CAAT;EAKA,oBACE;IAAK,SAAS,EAAC,qCAAf;IAAA,wBACE;MAAO,IAAI,EAAC,MAAZ;MAAmB,SAAS,EAAC,yBAA7B;MACA,KAAK,EAAEJ,MADP;MACe,WAAW,EAAC,sBAD3B;MAEA,QAAQ,EAAEc,CAAC,IAAIb,SAAS,CAACa,CAAC,CAACC,MAAF,CAASC,KAAV;IAFxB;MAAA;MAAA;MAAA;IAAA,QADF,EAMIhB,MAAM,CAACO,MAAP,IAAiB,CAAjB,iBACA;MAAK,SAAS,EAAC,2CAAf;MACA,KAAK,EAAE;QACLU,UAAU,EAAE,MADP;QACeC,MAAM,EAAE,EADvB;QAELC,SAAS,EAAE,qBAFN;QAGLC,QAAQ,EAAE;MAHL,CADP;MAAA,UAOIlB,KAAK,CAACK,MAAN,GACEL,KAAK,CAACmB,GAAN,CAAUC,IAAI,iBACd,QAAC,SAAD;QAA0B,IAAI,EAAEA;MAAhC,GAAgBA,IAAI,CAACC,GAArB;QAAA;QAAA;QAAA;MAAA,QADA,CADF,gBAIE;QAAI,SAAS,EAAC,aAAd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAXN;MAAA;MAAA;MAAA;IAAA,QAPJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAyBD,CApDD;;GAAMxB,M;UAIiBH,W;;;KAJjBG,M;AAsDN,eAAeA,MAAf"},"metadata":{},"sourceType":"module"}